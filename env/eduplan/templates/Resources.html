{% extends "base.html" %}
{% block title %}Resources{% endblock %}
{% block head %}
{{ super() }}
{% endblock %}
{% block content %}
<div class="container">
    <h2>Select a Study Topic</h2>
    <form method="POST" action="/resources">
        <div class="topic-list">
            <label for="topicDropdown">Courses:</label>
            <select id="topicDropdown">
                <option value="">-- Select a Course --</option>
                {% for course in canvas_courses %}
                    <option value="{{ course.id }}">{{ course.name }}</option>
                {% endfor %}
            </select>
        </div>
        

        <h3>Ask a Question About Study Resources</h3>
        <div class="chatbox">
            <input type="text" name="question" id="questionInput" placeholder="Type your question..." required>
            <button type="submit">Ask</button>
        </div>
    </form>

    <div class="messages" id="chatMessages">
    {% if ai_response %}
        <h4>AI Response:</h4>
        <p>{{ ai_response | safe }}</p>
    {% endif %}
    </div>
</div>
{% endblock %}
